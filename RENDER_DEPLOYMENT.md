# Render Deployment Guide

## Quick Deploy (Recommended)

1. **Connect GitHub Repository**
   - Go to [render.com](https://render.com)
   - Sign up/Login with GitHub
   - Click "New" â†’ "Blueprint"
   - Connect your GitHub repository: `Ajang-Deng98/abbaswhispers_website`
   - Render will automatically detect `render.yaml` and deploy everything

## Manual Deploy (Alternative)

### 1. Deploy PostgreSQL Database
- Service Type: PostgreSQL
- Name: `abba-whispers-db`
- Database: `abba_whispers`
- User: `abba_user`
- Plan: Free

### 2. Deploy Django Backend
- Service Type: Web Service
- Runtime: Python 3
- Root Directory: `django_backend`
- Build Command: `./build.sh`
- Start Command: `gunicorn abba_whispers.wsgi:application`

**Environment Variables:**
```
SECRET_KEY=<auto-generated>
DEBUG=False
DB_NAME=<from database>
DB_USER=<from database>
DB_PASSWORD=<from database>
DB_HOST=<from database>
DB_PORT=<from database>
ALLOWED_HOSTS=*
CORS_ALLOWED_ORIGINS=https://abba-whispers-frontend.onrender.com
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
CONTACT_EMAIL=info@abbawhispers.com
PRAYER_TEAM_EMAIL=prayer@abbawhispers.com
```

### 3. Deploy React Frontend
- Service Type: Static Site
- Root Directory: `frontend`
- Build Command: `npm install && npm run build`
- Publish Directory: `dist`

**Environment Variables:**
```
REACT_APP_API_URL=https://abba-whispers-backend.onrender.com/api
REACT_APP_SITE_URL=https://abba-whispers-frontend.onrender.com
```

## Post-Deployment Steps

1. **Create Superuser**
   ```bash
   # In Render backend shell
   python manage.py createsuperuser
   ```

2. **Populate Database**
   ```bash
   python manage.py shell
   exec(open('populate_data.py').read())
   ```

3. **Test Deployment**
   - Frontend: https://abba-whispers-frontend.onrender.com
   - Backend API: https://abba-whispers-backend.onrender.com/api
   - Admin: https://abba-whispers-backend.onrender.com/admin

## Expected URLs
- **Frontend**: https://abba-whispers-frontend.onrender.com
- **Backend**: https://abba-whispers-backend.onrender.com
- **Database**: Internal PostgreSQL connection

## Notes
- Free tier has limitations (sleeps after 15 minutes of inactivity)
- Database includes 1GB storage on free tier
- All services will auto-deploy on GitHub pushes